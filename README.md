# ⚾ YBL의 두번째 AI 서비스, YIPP x KBO 내 선수 카드 업데이트

> **"당신의 투자 실력, 이제 루키를 넘어 프로가 될 시간입니다."**
> 개인의 YBL 리그 내 실제 투자 성과 데이터를 반영하여, 기존의 '신인(Rookie)' 카드를 '프로(Pro)' 등급의 새로운 선수 카드로 업데이트합니다.

👉 **Live Demo:** [https://yipp-update.streamlit.app/](https://yipp-update.streamlit.app/)

---

## 📅 1. 기획 배경

YIPP계좌를 통해 YBL 리그 내에서 **'지속적인 투자 활동'**을 독려하기 위해 기획되었습니다. 사용자가 꾸준히 투자를 지속하고 성과를 낼수록, 자신의 AI 선수 카드도 업데이트되는 **성장형 시스템**을 도입하여 사용자 리텐션을 높이고자 했습니다.

### 💡 핵심 컨셉
* **Level Up System:** 신인 선수 입단식 이후 쌓인 투자 데이터를 바탕으로 카드의 등급을 업그레이드합니다.
* **Data-Driven Visuals:** 실제 수익률, 거래 빈도, 분산 투자 정도 등의 투자 데이터를 시각화된 스탯으로 변환하여 카드 디자인에 반영합니다.
* **Dynamic Position Change:** 투자 스타일이 변했다면(예: 공격형 ➔ 안정형), 포지션도 이에 맞춰 자동으로 업데이트됩니다.

---

## 🛠 2. 주요 기능

### 1️⃣ 알림 전송
* **포지션 업데이트 알림:** YBL 리그 내에서 투자 활동을 통해 처음 설문 때 정해진 포지션에 변화가 감지될 시, 알림을 전송합니다. 알림을 받은 사용자는 서비스에 접속해 자신의 선수 카드를 업데이트할 수 있습니다.
* **슬랙 활용:** 푸시 알림의 경우 유안타증권 MTS인 티레이더M에 접근 권한이 없으므로, 슬랙 알림 API로 대체하여 데모를 구현했습니다.

### 2️⃣ 선수 정보 인증 및 조회
* **본인 확인:** 이름과 YIPP 계좌번호(12자리)를 통해 사용자를 인증합니다.
* **데이터 로드:** `customer.csv` 데이터베이스에 쌓인 해당 유저의 투자 데이터(수익률, 활동성, 안정성 등)를 불러옵니다. 해당 데이터는 실제 유안타증권 고객 데이터가 아닌, AI서비스 구현을 위해 제작된 가상 YBL 참여자 데이터입니다.

### 3️⃣ 스탯 업데이트
* **포지션 재평가:** 초기 입단 시점과 달라진 현재의 투자 데이터를 분석하여, 가장 적합한 야구 포지션을 다시 부여합니다.

### 4️⃣ PRO 등급 카드 발급
* **Google Gemini (gemini-3-pro-image-preview)** 모델을 활용합니다.
* **Prompt Engineering:**
    * **"YIPP PRO"** 타이틀을 부여하고, 기존 루키 카드보다 더욱 역동적이고 프로페셔널한 분위기의 이미지를 생성하도록 프롬프트를 설계했습니다.
    * 사용자의 소속 구단 유니폼, 등번호, 이름, 그리고 업데이트된 오각형 레이더 차트 수치를 이미지 내에 정교하게 합성합니다.

---

## 🏗 3. 기술 스택

### Frontend & Application
* **Streamlit:** Python으로 인터랙티브한 애플리케이션 UI를 구현했습니다.
* **Session State:** 사용자 인증 정보와 조회된 데이터를 페이지 간에 안전하게 유지하기 위해 `st.session_state`를 적극 활용했습니다.

### Data Processing
* **Pandas:** CSV 형태의 고객 투자 데이터를 로드하고, 조건부 검색 기능을 구현했습니다.
* **Numpy:** 수치 데이터 연산 및 데이터 타입 처리에 사용되었습니다.

### Artificial Intelligence
* **Google GenAI SDK (v1.0):** Gemini 모델을 호출하여 프롬프트를 기반으로 이미지를 생성합니다.
* **Data Injection:** 정형 데이터(수치)를 자연어 프롬프트 템플릿에 주입하여, AI가 데이터를 이해하고 그래프 등을 시각적으로 표현할 수 있도록 유도했습니다.

---

## 🖼️ 도식화

<img width="1024" height="590" alt="image" src="https://github.com/user-attachments/assets/2076b1e7-5a0f-446a-8fbe-91db49556e78" />
